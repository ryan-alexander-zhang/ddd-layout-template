<?xml version="1.0" encoding="UTF-8"?>
<archetype-descriptor
    xmlns="http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.2.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.2.0 https://maven.apache.org/xsd/archetype-descriptor-1.2.0.xsd"
    name="ddd-layout-template">

  <fileSets>
    <!-- Top-level docs and misc files: keep unfiltered to avoid Velocity parsing errors (e.g., ${input:...}). -->
    <fileSet filtered="false" encoding="UTF-8">
      <includes>
        <include>README.md</include>
        <include>LICENSE</include>
        <include>.gitignore</include>
        <include>docker-compose.yaml</include>
        <include>copilot-instructions.md</include>
        <include>copilot-instructions-v2.md</include>
        <include>copilot-instructions-v3.md</include>
      </includes>
      <excludes>
        <exclude>**/target/**</exclude>
        <exclude>**/.idea/**</exclude>
        <exclude>**/.data/**</exclude>
      </excludes>
    </fileSet>

    <!-- Root pom needs filtering. -->
    <fileSet filtered="true" encoding="UTF-8">
      <includes>
        <include>pom.xml</include>
      </includes>
      <excludes>
        <exclude>**/target/**</exclude>
      </excludes>
    </fileSet>
  </fileSets>

  <modules>
    <module id="${rootArtifactId}-start" dir="__rootArtifactId__-start" name="${rootArtifactId}-start">
      <fileSets>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/main/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
        <fileSet filtered="true" encoding="UTF-8">
          <directory>src/main/resources</directory>
          <includes>
            <include>**/*</include>
          </includes>
          <excludes>
            <exclude>**/target/**</exclude>
          </excludes>
        </fileSet>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/test/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
      </fileSets>
    </module>

    <module id="${rootArtifactId}-infra" dir="__rootArtifactId__-infra" name="${rootArtifactId}-infra">
      <fileSets>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/main/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
        <fileSet filtered="true" encoding="UTF-8">
          <directory>src/main/resources</directory>
          <includes>
            <include>**/*</include>
          </includes>
          <excludes>
            <exclude>**/target/**</exclude>
          </excludes>
        </fileSet>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/test/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
      </fileSets>
    </module>

    <module id="${rootArtifactId}-app" dir="__rootArtifactId__-app" name="${rootArtifactId}-app">
      <fileSets>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/main/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
        <fileSet filtered="true" encoding="UTF-8">
          <directory>src/main/resources</directory>
          <includes>
            <include>**/*</include>
          </includes>
          <excludes>
            <exclude>**/target/**</exclude>
          </excludes>
        </fileSet>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/test/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
        <fileSet filtered="true" encoding="UTF-8">
          <directory>src/test/resources</directory>
          <includes>
            <include>**/*</include>
          </includes>
          <excludes>
            <exclude>**/target/**</exclude>
          </excludes>
        </fileSet>
      </fileSets>
    </module>

    <module id="${rootArtifactId}-domain" dir="__rootArtifactId__-domain" name="${rootArtifactId}-domain">
      <fileSets>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/main/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
        <fileSet filtered="true" encoding="UTF-8">
          <directory>src/main/resources</directory>
          <includes>
            <include>**/*</include>
          </includes>
          <excludes>
            <exclude>**/target/**</exclude>
          </excludes>
        </fileSet>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/test/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
        <fileSet filtered="true" encoding="UTF-8">
          <directory>src/test/resources</directory>
          <includes>
            <include>**/*</include>
          </includes>
          <excludes>
            <exclude>**/target/**</exclude>
          </excludes>
        </fileSet>
      </fileSets>
    </module>

    <module id="${rootArtifactId}-adapter" dir="__rootArtifactId__-adapter" name="${rootArtifactId}-adapter">
      <fileSets>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/main/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
        <fileSet filtered="true" encoding="UTF-8">
          <directory>src/main/resources</directory>
          <includes>
            <include>**/*</include>
          </includes>
          <excludes>
            <exclude>**/target/**</exclude>
          </excludes>
        </fileSet>
        <fileSet filtered="true" packaged="true" encoding="UTF-8">
          <directory>src/test/java</directory>
          <includes>
            <include>**/*.java</include>
          </includes>
        </fileSet>
      </fileSets>
    </module>
  </modules>
</archetype-descriptor>
